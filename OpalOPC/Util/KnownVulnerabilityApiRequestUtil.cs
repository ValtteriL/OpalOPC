using System.Net.Http.Json;
using Model;

namespace Util
{
    public interface IKnownVulnerabilityApiRequestUtil
    {
        public Task<HttpResponseMessage> PostAsJsonAsync(StrictBuildInfo buildInfo);
    }
    public class KnownVulnerabilityApiRequestUtil(IHttpClientFactory clientFactory) : IKnownVulnerabilityApiRequestUtil
    {
        private readonly HttpClient _httpClient = clientFactory.CreateClient("KnownVulnerabilityPlugin");
        public async Task<HttpResponseMessage> PostAsJsonAsync(StrictBuildInfo buildInfo) => await _httpClient.PostAsJsonAsync("", buildInfo);
    }
}
